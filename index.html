<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiszki Prawnicze - Kolokwium</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f9; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card-container { background: white; width: 90%; max-width: 500px; padding: 40px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; }
        h1 { color: #333; font-size: 24px; margin-bottom: 10px; }
        .counter { color: #888; font-size: 14px; margin-bottom: 30px; }
        .word-box { min-height: 120px; display: flex; flex-direction: column; justify-content: center; align-items: center; margin-bottom: 30px; }
        .pl-word { font-size: 26px; font-weight: bold; color: #2c3e50; margin-bottom: 15px; }
        .en-word { font-size: 24px; color: #27ae60; font-weight: bold; display: none; }
        .btn { padding: 12px 24px; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; margin: 5px; transition: 0.2s; outline: none; }
        .btn-reveal { background-color: #3498db; color: white; width: 100%; }
        .btn-reveal:hover { background-color: #2980b9; }
        .btn-know { background-color: #2ecc71; color: white; display: none; flex: 1; }
        .btn-dont-know { background-color: #e74c3c; color: white; display: none; flex: 1; }
        .btn-restart { background-color: #34495e; color: white; margin-top: 10px; width: 100%; }
        .hidden { display: none; }
        .summary { font-size: 18px; line-height: 1.6; margin-bottom: 20px; }
        .button-group { display: flex; justify-content: center; gap: 10px; width: 100%; }
    </style>
</head>
<body>

<div class="card-container" id="app">
    <div id="quiz-view">
        <div class="counter" id="counter">S≈Çowo 1 / X</div>
        <div class="word-box">
            <div class="pl-word" id="pl-text">Wczytywanie...</div>
            <div class="en-word" id="en-text">...</div>
        </div>
        <button class="btn btn-reveal" id="btn-reveal" onclick="reveal()">Poka≈º odpowied≈∫ (Spacja)</button>
        <div class="button-group">
            <button class="btn btn-dont-know" id="btn-dont-know" onclick="rate(false)">Nie umiem (‚Üê)</button>
            <button class="btn btn-know" id="btn-know" onclick="rate(true)">Umiem (‚Üí)</button>
        </div>
    </div>

    <div id="summary-view" class="hidden">
        <h1>Koniec nauki!</h1>
        <p class="summary" id="summary-text"></p>
        <button class="btn btn-restart" onclick="restartAll()">Powt√≥rz WSZYSTKO od nowa</button>
        <button class="btn btn-restart" id="btn-retry-errors" onclick="retryErrors()">Powt√≥rz tylko B≈ÅƒòDY</button>
    </div>
</div>

<script>
    const fullDatabase = [
        { pl: "w≈Çadza (autorytet)", en: "power / authority" },
        { pl: "pojƒôcie", en: "idea / concept / notion" },
        { pl: "sprawowaƒá w≈Çadzƒô", en: "to exercise power" },
        { pl: "w≈Çadze", en: "the authorities" },
        { pl: "rzƒÖd", en: "the government" },
        { pl: "organy w≈Çadzy", en: "bodies" },
        { pl: "instytucje rzƒÖdowe", en: "institutions" },
        { pl: "w≈Çadza ustawodawcza (organ)", en: "legislative power (the legislature)" },
        { pl: "tworzy prawo", en: "makes law" },
        { pl: "uchwala prawo", en: "passes the law" },
        { pl: "w≈Çadza wykonawcza", en: "executive power" },
        { pl: "organ wykonawczy", en: "the executive" },
        { pl: "wykonuje i egzekwuje prawo", en: "executes and enforces law" },
        { pl: "w≈Çadza sƒÖdownicza", en: "judicial power" },
        { pl: "sƒÖdownictwo", en: "the judiciary" },
        { pl: "stosuje i interpretuje prawo", en: "applies and interprets/construes law" },
        { pl: "legalny", en: "legal" },
        { pl: "zgodny z prawem (prawowity)", en: "lawful" },
        { pl: "bezprawny", en: "unlawful" },
        { pl: "nielegalny (wbrew prawu)", en: "illegal" },
        { pl: "zachowanie zgodne z prawem", en: "lawful behaviour" },
        { pl: "rozumowanie prawnicze", en: "legal reasoning" },
        { pl: "praktyka prawnicza", en: "legal practice" },
        { pl: "jƒôzyk prawniczy", en: "legal language" },
        { pl: "kroki prawne / pow√≥dztwo", en: "legal action" },
        { pl: "podjƒôcie krok√≥w prawnych", en: "to take legal action" },
        { pl: "sprzeda≈º alkoholu bez licencji jest nielegalna", en: "it is illicit/illegal to sell alcohol without a license" },
        { pl: "stosowanie prawa", en: "application of law" },
        { pl: "koszty prawne / sƒÖdowe", en: "legal costs" },
        { pl: "medycyna sƒÖdowa", en: "legal medicine" },
        { pl: "us≈Çugi prawne", en: "legal services" },
        { pl: "osobowo≈õƒá prawna", en: "legal personality" },
        { pl: "prawowity w≈Ça≈õciciel", en: "lawful owner" },
        { pl: "konsekwencje / skutki prawne", en: "legal implications" },
        { pl: "pozycja prawna", en: "legal position" },
        { pl: "unifikacja prawa", en: "unification of law" },
        { pl: "wa≈ºny w ≈õwietle prawa", en: "valid in law" },
        { pl: "≈õrodki prawne", en: "legal means" },
        { pl: "prawo (system lub ustawa)", en: "law" },
        { pl: "prawo (uprawnienie)", en: "right" },
        { pl: "stosowaƒá prawo", en: "to apply law" },
        { pl: "praktykowaƒá prawo", en: "to practise law" },
        { pl: "interpretowaƒá prawo", en: "to interpret law" },
        { pl: "dokonywaƒá wyk≈Çadni prawa", en: "to construe law" },
        { pl: "uchwalaƒá prawo", en: "to enact law" },
        { pl: "zmieniaƒá / nowelizowaƒá prawo", en: "to alter law" },
        { pl: "uchylaƒá / znosiƒá prawo", en: "to repeal law" },
        { pl: "egzekwowaƒá prawo", en: "to enforce law" },
        { pl: "wykonywaƒá / korzystaƒá z prawa", en: "to exercise a right" },
        { pl: "zrzec siƒô / odstƒÖpiƒá od prawa", en: "to waive a right" },
        { pl: "zastrzegaƒá sobie prawo", en: "to reserve a right" },
        { pl: "przyznaƒá prawo", en: "to grant a right" },
        { pl: "dochodziƒá / egzekwowaƒá prawo", en: "to enforce a right" },
        { pl: "prawnik I instancji (porady)", en: "solicitor" },
        { pl: "adwokat (procesowy)", en: "barrister" },
        { pl: "izba adwokacka (palestra)", en: "the bar" },
        { pl: "radca kr√≥lewski", en: "Counsel (QC)" },
        { pl: "prawo wystƒôpowania przed sƒÖdem", en: "rights of audience" },
        { pl: "prawnik wewnƒôtrzny", en: "in-house lawyer" },
        { pl: "aplikacja adwokacka (UK - barrister)", en: "pupillage" },
        { pl: "aplikacja (UK - solicitor)", en: "training contract" },
        { pl: "porada prawna", en: "legal advice" },
        { pl: "opinia prawna", en: "legal opinion" },
        { pl: "sporzƒÖdzaƒá projekty dokument√≥w", en: "draft documents" },
        { pl: "notariusz", en: "notary public" },
        { pl: "prokurator", en: "public prosecutor" },
        { pl: "rzecznictwo / wystƒôpowanie w sƒÖdzie", en: "advocacy" },
        { pl: "spory sƒÖdowe / procesy", en: "litigation" },
        { pl: "obs≈Çuga prawna obrotu nieruchomo≈õciami", en: "conveyancing" },
        { pl: "testament", en: "will" },
        { pl: "asystentura (dla barristera)", en: "tenancy" },
        { pl: "zawodowy", en: "vocational" },
        { pl: "doradztwo og√≥lne", en: "advising clients on general legal issues" },
        { pl: "wystƒôpowanie w sƒÖdach ni≈ºszych", en: "advocacy in the lower courts" },
        { pl: "przygotowywanie spraw", en: "preparing cases" },
        { pl: "stopie≈Ñ naukowy z prawa", en: "law degree" },
        { pl: "specjalistyczne porady prawne", en: "advising clients on specialist legal issues" },
        { pl: "wystƒôpowanie we wszystkich sƒÖdach", en: "advocacy in all courts" },
        { pl: "pisma procesowe", en: "drafting of documents in connection with litigation" },
        { pl: "tytu≈Çy zawodowe prawnik√≥w", en: "professional titles of lawyers" },
        { pl: "sprawa prawna", en: "legal affair" },
        { pl: "kwestia prawna", en: "legal issue" },
        { pl: "zagadnienie prawne", en: "legal matter" },
        { pl: "sprawa sƒÖdowa (przypadek)", en: "case" },
        { pl: "postƒôpowanie sƒÖdowe", en: "legal proceedings" },
        { pl: "uzyskaƒá uprawnienia prawnika", en: "to qualify as a lawyer" },
        { pl: "adwokat / radca prawny (USA)", en: "attorney (at-law)" },
        { pl: "prowadziƒá sprawƒô (argumentowaƒá)", en: "to plead (argue) a case" },
        { pl: "dzia≈Çaƒá w imieniu klienta", en: "to act on behalf of a client" },
        { pl: "reprezentowaƒá klienta", en: "to represent a client" },
        { pl: "zastƒôpstwo procesowe", en: "representation" },
        { pl: "zawrzeƒá ugodƒô pozasƒÖdowƒÖ", en: "to settle out of court" },
        { pl: "ugoda", en: "settlement" },
        { pl: "rozpoznaƒá sprawƒô (sƒôdzia)", en: "to hear a case" },
        { pl: "pe≈Çnomocnik / prawnik", en: "counsel" },
        { pl: "zostaƒá przyjƒôtym do palestry", en: "to be called to the bar" },
        { pl: "lista adwokacka", en: "the roll of advocates" },
        { pl: "zostaƒá wydalonym z palestry", en: "to be disbarred" },
        { pl: "byƒá skre≈õlonym z listy", en: "to be struck off the roll" },
        { pl: "strategia obrony", en: "line in a court" },
        { pl: "kancelaria (miejsce/siedziba)", en: "chambers" },
        { pl: "prawo gospodarcze", en: "commercial/business law" },
        { pl: "aplikant", en: "pupil / trainee" },
        { pl: "radca prawny", en: "legal advisor" },
        { pl: "sƒôdzia", en: "judge" },
        { pl: "rozstrzygnƒÖƒá sp√≥r", en: "to resolve a dispute" },
        { pl: "niedba≈Çy", en: "negligent" },
        { pl: "b≈ÇƒÖd w sztuce prawniczej", en: "legal malpractice" },
        { pl: "pozwaƒá kogo≈õ", en: "to sue sb" },
        { pl: "wnie≈õƒá pow√≥dztwo", en: "to issue a claim" },
        { pl: "ustawa (akt parlamentu)", en: "act of parliament" },
        { pl: "poprawka / nowelizacja", en: "amendment" },
        { pl: "projekt ustawy", en: "bill" },
        { pl: "obej≈õƒá (prawo)", en: "bypass" },
        { pl: "podzia≈Ç w≈Çadzy", en: "separation of powers" },
        { pl: "zawetowaƒá", en: "veto" }
    ];

    let currentList = [];
    let missedList = [];
    let currentIndex = 0;
    let errorsCount = 0;
    let isRevealed = false;

    const plText = document.getElementById('pl-text');
    const enText = document.getElementById('en-text');
    const counter = document.getElementById('counter');
    const btnReveal = document.getElementById('btn-reveal');
    const btnKnow = document.getElementById('btn-know');
    const btnDontKnow = document.getElementById('btn-dont-know');
    const quizView = document.getElementById('quiz-view');
    const summaryView = document.getElementById('summary-view');
    const summaryText = document.getElementById('summary-text');
    const btnRetryErrors = document.getElementById('btn-retry-errors');

    function startQuiz(list) {
        currentList = shuffle([...list]);
        missedList = [];
        currentIndex = 0;
        errorsCount = 0;
        quizView.classList.remove('hidden');
        summaryView.classList.add('hidden');
        loadCard();
    }

    function loadCard() {
        if (currentIndex >= currentList.length) {
            finishQuiz();
            return;
        }
        isRevealed = false;
        const item = currentList[currentIndex];
        plText.innerText = item.pl;
        enText.innerText = item.en;
        enText.style.display = 'none';
        counter.innerText = `S≈Çowo ${currentIndex + 1} z ${currentList.length}`;
        btnReveal.style.display = 'block';
        btnKnow.style.display = 'none';
        btnDontKnow.style.display = 'none';
    }

    function reveal() {
        isRevealed = true;
        enText.style.display = 'block';
        btnReveal.style.display = 'none';
        btnKnow.style.display = 'inline-block';
        btnDontKnow.style.display = 'inline-block';
    }

    function rate(known) {
        if (!known) {
            missedList.push(currentList[currentIndex]);
            errorsCount++;
        }
        currentIndex++;
        loadCard();
    }

    function finishQuiz() {
        quizView.classList.add('hidden');
        summaryView.classList.remove('hidden');
        summaryText.innerHTML = `Przerobi≈Çe≈õ ${currentList.length} s≈Ç√≥w.<br>
                                 Pamiƒôta≈Çe≈õ: <strong style="color:green">${currentList.length - errorsCount}</strong><br>
                                 Zapomnia≈Çe≈õ: <strong style="color:red">${errorsCount}</strong>`;
        btnRetryErrors.style.display = missedList.length === 0 ? 'none' : 'inline-block';
        if (missedList.length === 0) summaryText.innerHTML += "<br><br><strong>Gratulacje! üéâ</strong>";
    }

    function restartAll() { startQuiz(fullDatabase); }
    function retryErrors() { startQuiz(missedList); }
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    // Obs≈Çuga klawiatury
    window.addEventListener('keydown', (e) => {
        if (quizView.classList.contains('hidden')) return;
        if (e.code === 'Space' || e.code === 'Enter') {
            e.preventDefault();
            if (!isRevealed) reveal();
        } else if (isRevealed && e.code === 'ArrowRight') {
            rate(true);
        } else if (isRevealed && e.code === 'ArrowLeft') {
            rate(false);
        }
    });

    restartAll();
</script>

</body>
</html>
